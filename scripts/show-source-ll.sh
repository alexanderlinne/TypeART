#!/bin/bash

target=$1
extension="${target##*.}"

if [ $extension == "c" ]; then
  compiler=clang
else
  compiler=clang++
fi

echo "|----------------------------------------------------------|"
echo "|------------------------Source----------------------------|"
echo "|----------------------------------------------------------|"
cat "$target"
echo "|----------------------------------------------------------|"
echo "|--------------------------LL------------------------------|"
echo "|----------------------------------------------------------|"
$compiler -S -emit-llvm -fno-discard-value-names "$target" -o -
